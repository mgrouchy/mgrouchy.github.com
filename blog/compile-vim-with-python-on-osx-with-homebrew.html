<!doctype html>
<!-- https://github.com/paulirish/html5-boilerplate/blob/master/index.html -->
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="">

  <!-- encoding must be specified within the first 512 bytes
        www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#charset -->

  <!-- meta element for compatibility mode needs to be before
        all elements except title & meta
        msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx -->
  <!-- Chrome Frame is only invoked if meta element for
        compatibility mode is within the first 1K bytes
        code.google.com/p/chromium/issues/detail?id=23003 -->

  <title>Compile Vim with Python support on OSX with Homebrew</title>
  <meta name="description" content="">
  <meta name="author" content="Mike Grouchy">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="">

    <!-- Place favicon.ico & apple-touch-icon.png
        in the root of your domain and delete these references -->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
	
	<link rel="alternate" type="application/rss+xml" title="MikeGrouchy.com RSS Feed" href="http://feeds.feedburner.com/mikegrouchycom" />

		<link rel="stylesheet" href="/media/css/bootstrap.min.css">
  <link rel="stylesheet" href="/media/css/site.css">
  <link rel="stylesheet" href="/media/css/syntax.css">
  
    <!-- All JavaScript at the bottom, except for Modernizr which
        enables HTML5 elements & feature detects -->
    <script src="/media/js/libs/modernizr-1.7.min.js"></script>
    </head>
<body id="compile-vim-with-python-on-osx-with-homebrew">
	<div class="topbar ">
			<div class="topbar-inner topbar-override">
        <div class="container container-expand">
          <a class="brand btitle" href="http://mikegrouchy.com">Mike Grouchy</a>
          <ul class="nav">
							<li class=""><a href="http://mikegrouchy.com">Home</a></li>
							<li class=""><a href="/about.html">About</a></li>
							<li class=""><a href="http://feeds.feedburner.com/mikegrouchycom">Feed</a></li>
          </ul>
        </div>
      </div>
	</div>
		<div class="container container-expand">
		<article class="post">
		<h1 class="title">
	    <a class="post-link" href="/blog/compile-vim-with-python-on-osx-with-homebrew.html">
	        Compile Vim with Python support on OSX with Homebrew
	    </a>
	</h1>
	<time datetime="2012-05-09">
	    Posted: Wednesday, 09 May, 2012
	</time>
<div class="post-content">
	<p><a href="http://twitter.com/myusuf3">Mahdi</a> asked me today how I compiled Vim with +Python
on <span class="caps">OSX</span> and I couldn&#8217;t remember the exact commands, so I am writing this blog post
so I will remember in the future and because someone else might find this&nbsp;useful.</p>
<p>Compiling Vim with +Python or +Ruby is required if you want to run any plugins
that have peices that are written in those languages. The usual way around this
on <span class="caps">OSX</span> is to just install <a href="https://github.com/b4winckler/macvim">MacVim</a> and use
that. However, if you really want to use terminal Vim, you are out of luck on&nbsp;<span class="caps">OSX</span>.</p>
<p>So this is where <a href="http://mxcl.github.com/homebrew/">Homebrew</a> comes in, we can use Homebrew to compile vim from a custom
formula. The only requirements to do this are <a href="http://mercurial.selenic.com/">Mercurial</a> and&nbsp;Homebrew.</p>
<p>You can install Mercurial by using either easy_install or pip:
<div class="codebox"><figure class="code"><div class="highlight"><pre><span class="c">#install mercurial</span><br />sudo easy_install mercurial<br /><span class="c">#or</span><br />sudo pip install mercurial<br /></pre></div><br /><figcaption>Bash</figcaption></figure></div></p>
<p>You can follow the directions on the <a href="https://github.com/mxcl/homebrew/wiki/installation">Homebrew Github Wiki</a> to install&nbsp;homebrew.</p>
<p>Now you can Install this Homebrew formula which has been modified slightly to my tastes
to install&nbsp;Vim.</p>
<script src="https://gist.github.com/2051422.js?file=vim.rb"></script>

<p>To install this formula you can just use this command, or fork the Gist and modify
the formula as you see fit(that&#8217;s what I did) to install your flavor of Vim.
<div class="codebox"><figure class="code"><div class="highlight"><pre>brew install https://raw.github.com/gist/2051422/97b17d79e404b78bf9eef581c190ff158485cb30/vim.rb<br /></pre></div><br /><figcaption>Bash</figcaption></figure></div></p>
<p>By default the Vim compiled with this script is compiled with +python and +ruby,
if you want support for other interpreters you can pass those parameters to the script with:
<div class="codebox"><figure class="code"><div class="highlight"><pre>--enable-interp<span class="o">=</span><span class="caps">NAME</span>,...<span class="s2">&quot;, &quot;</span>lua, mzscheme, perl, python, python3, tcl and/or ruby<span class="err">&quot;</span><br /></pre></div><br /><figcaption>Bash</figcaption></figure></div></p>
<p>You can also specify vim be compiled with features(the scripts, default is normal)
To see what the features do, you can see this <a href="http://www.drchip.org/astronaut/vim/vimfeat.html">rather ugly table</a>
<div class="codebox"><figure class="code"><div class="highlight"><pre>--with-features<span class="o">=</span><span class="caps">TYPE</span><span class="s2">&quot;, &quot;</span>tiny, small, normal, big or huge<br /></pre></div><br /><figcaption>Bash</figcaption></figure></div></p>
<p>Now that you have vim installed with your interpreters and features compiled,
go ahead and check the version:
<div class="codebox"><figure class="code"><div class="highlight"><pre>vim --version<br /></pre></div><br /><figcaption>Bash</figcaption></figure></div></p>
<p>and you should see that it is the updated&nbsp;version.</p>
<p>If you don&#8217;t see that it is the updated version, it means your /usr/local/bin isn&#8217;t
on your path, or if it is on your path it comes after&nbsp;usr/bin.</p>
<p>So how do you fix&nbsp;this?</p>
<h2>Option 1: Update your&nbsp;path:</h2>
<p>In your .zshrc (<a href="http://mikegrouchy.com/blog/zsh-is-your-friend.html">you are using Zsh right?</a>) or .bashrc
update your&nbsp;path.</p>
<div class="codebox"><figure class="code"><div class="highlight"><pre><span class="c">#this</span><br /><span class="nb">export </span><span class="nv"><span class="caps">PATH</span></span><span class="o">=</span>/usr/bin:/usr/sbin<br /><span class="c">#to this</span><br /><span class="nb">export </span><span class="nv"><span class="caps">PATH</span></span><span class="o">=</span>/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin<br /></pre></div><br /><figcaption>Bash</figcaption></figure></div>

<h2>Option 2: Move your old Vim and symlink the new&nbsp;one</h2>
<p>You can move the Vim that comes with <span class="caps">OSX</span> and Symlink the one brew&nbsp;installed</p>
<div class="codebox"><figure class="code"><div class="highlight"><pre>sudo mv /usr/bin/vim /usr/bin/oldvim<br />ln -s /usr/local/bin/vim /usr/bin/vim<br /></pre></div><br /><figcaption>Bash</figcaption></figure></div>

<p>One of those should solve your&nbsp;problem.</p>
<h2>Protip:</h2>
<p>You may notice that your terminal Vim does not support backspace in Insert mode
with the settings I have setup in the brew&nbsp;formula.</p>
<p>If this is something you want, you can stick this line in your&nbsp;.vimrc:</p>
<div class="codebox"><figure class="code"><div class="highlight"><pre><span class="k">set</span> <span class="nb">backspace</span><span class="p">=</span>indent<span class="p">,</span><span class="nb">eol</span><span class="p">,</span><span class="k">start</span><br /></pre></div><br /><figcaption>VimL</figcaption></figure></div>

<p>I think that should be it. If you have any questions leave it in the comments or
ask me on <a href="http://twitter.com/mgrouchy">twitter</a>.</p>
<p>Edit: Discussion on <a href="http://news.ycombinator.com/item?id=3949774">Hacker&nbsp;News</a></p>
			<div class="hero-unit disqus">
		Tags:  <a class="" href="/blog/tags/python.html">python</a>,  <a class="" href="/blog/tags/vim.html">vim</a>,  <a class="" href="/blog/tags/homebrew.html">homebrew</a>,  <a class="" href="/blog/tags/OSX.html">OSX</a>.	</div>	
	</article>			<div class="hero-unit disqus">
<h3 id="comment-header">Comments</h1>
	<div id="disqus_thread"></div>
	<script type="text/javascript">
		/**
			* var disqus_identifier; [Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread]
			*/
		 var disqus_shortname = 'mikegrouchy';

 (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>	</div> <!--! end of .container -->
	<footer> Copyright 2009-2012 Mike Grouchy
  </footer>
    		<!-- Javascript at the bottom for fast page loading -->
					<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
			<script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
			<script>window.jQuery || document.write('<script src="js/libs/jquery-1.5.1.min.js">\x3C/script>')</script>
						

		<!--[if lt IE 7 ]>
		  <script src="js/libs/dd_belatedpng.js"></script>
		  <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
		<![endif]-->

					<!-- asynchronous google analytics: mathiasbynens.be/notes/async-analytics-snippet  -->
<script>
    var _gaq = [['_setAccount', 'UA-1990784-1'], ['_trackPageview']];
    (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
    })(document, 'script');
</script>
		
			</body>
</html>